<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link rel="stylesheet" href="/LIB/bootstrap 5.3/css/bootstrap.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="js-lab5.css">

</head>

<body>
    <section>
        <div class="container">
            <div class="row" id="list">
                <!-- <div class="col-3">
                    <div class="card">
                        <p id="date">2022-09-09 15:00:00</p>
                        <div class="row">
                            <div class="col-6">
                                <h3 id="temp">27°</h3>
                                <p id="status">broken clouds</p>
                            </div>
                            <div class="col-6 ">
                                <img id="ico" src="http://openweathermap.org/img/wn/04n@2x.png" alt="">
                            </div>
                        </div>

                    </div>
                </div>
                <div class="col-3">
                    <div class="card">
                        <p id="date">2022-09-09 15:00:00</p>
                        <div class="row">
                            <div class="col-6">
                                <h3 id="temp">27°</h3>
                                <p id="status">broken clouds</p>
                            </div>
                            <div class="col-6 ">
                                <img id="ico" src="http://openweathermap.org/img/wn/04n@2x.png" alt="">
                            </div>
                        </div>

                    </div>
                </div>
                <div class="col-3">
                    <div class="card">
                        <p>akscsc</p>
                    </div>
                </div>
                <div class="col-3">
                    <div class="card">
                        <p>akscsc</p>
                    </div>
                </div> -->
            </div>

        </div>
    </section>
    <script type="text/javascript">
        var xhttp = new XMLHttpRequest();
        xhttp.onload = function () {
            var rs = this.responseText;
            // console.log(rs);
            var data = JSON.parse(rs);
            // console.log(data);

            var list = data.list;
            // console.log(list);

            // document.getElementById("temp").innerText=list.main.temp;
            // console.log(data);            
            for (var i = 0; i < list.length; i++) {
                var p = list[i];
                var w=p.weather[0];
                console.log(w);
                var ndate = p.dt_txt;
                var ntemp = p.main.temp;

                var li = `<div class="col-3 mb-3">
                    <div class="card">
                        <p id="date">${ndate}</p>
                        <div class="row">
                            <div class="col-6">
                                <h3 id="temp">${ntemp}</h3>
                                <p id="status">${w.description}</p>
                            </div>
                            <div class="col-6 ">
                                <img id="ico" src="http://openweathermap.org/img/wn/${w.icon}@2x.png" alt="">
                            </div>
                        </div>

                    </div>
                </div>`;
                document.getElementById("list").innerHTML += li;
            }


        }

        xhttp.open("GET", "https://api.openweathermap.org/data/2.5/forecast?q=Hanoi,vietnam&appid=09a71427c59d38d6a34f89b47d75975c&units=metric");
        xhttp.send();

    </script>
</body>

</html>